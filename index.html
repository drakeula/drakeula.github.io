<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pokémon Shiny Hunt Randomizer - Kanto→Unova</title>
<style>
  :root { --bg:#0b1220; --card:#111a2e; --muted:#a7b4d6; --line:#243352; --chip:#19264a; --ink:#e8eefc; }
  * { box-sizing:border-box }
  body { margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center; background:var(--bg); color:var(--ink); font:16px/1.45 system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
  .card { width:min(960px,95vw); background:var(--card); border:1px solid var(--line); border-radius:18px; padding:22px; box-shadow:0 8px 30px rgba(0,0,0,.35); }
  h1 { margin:0 0 8px; font-size:1.35rem }
  .sub { margin:0 0 14px; color:var(--muted) }
  .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:10px 0 }
  .chips { display:flex; gap:8px; flex-wrap:wrap }
  .chip { border:1px solid #2a3a62; background:var(--chip); color:#cfe0ff; padding:6px 10px; border-radius:999px; cursor:pointer; user-select:none; }
  .chip[data-active="true"] { outline:2px solid #5673ff; color:#fff }
  button { padding:10px 14px; border-radius:10px; border:1px solid #3a4a74; background:#1a2750; color:#e8eefc; cursor:pointer }
  button:hover { filter:brightness(1.1) }
  .result { margin-top:8px; padding:14px; border:1px dashed #2a3a62; border-radius:12px; background:#0f1830; font-size:1.1rem; white-space:pre-wrap }
  details { margin-top:14px; border-top:1px solid #203055; padding-top:8px }
  details > summary { list-style:none; cursor:pointer; color:#c8d6ff; user-select:none; }
  details > summary::-webkit-details-marker { display:none }
  .hist { margin-top:10px; max-height:260px; overflow:auto; color:#c8d6ff }
  .small { color:#9fb3e1; font-size:.9rem }
  label { display:flex; gap:8px; align-items:center }
  input[type="checkbox"] { transform:scale(1.15) }
  .count { margin-left:auto; color:#9fb3e1; font-size:.9rem }
</style>
</head>
<body>
<div class="card">
  <h1>PokéMMO Shiny Hunt Randomizer</h1>
  <p class="sub">Randomly pick a shiny-hunting spot from the first five regions (Kanto including Sevii Islands, Johto, Hoenn, Sinnoh, Unova)</p>

  <div class="row">
    <button id="roll">Pick 1</button>
    <button id="roll5">Pick 5</button>
    <button id="copy">Copy Last</button>
    <span class="count" id="poolCount">Pool: …</span>
  </div>

  <div class="row">
    <div class="chips" id="regions"></div>
  </div>

  <div class="row">
    <label><input type="checkbox" id="routesOn" checked>Include numbered routes</label>
    <label><input type="checkbox" id="namedOn" checked>Include named places</label>
  </div>

  <div class="result" id="result">Click “Pick 1” to begin.</div>

  <!-- Collapsible history -->
  <details id="histWrap">
    <summary>History (<span id="histCount">0</span>)</summary>
    <div class="hist" id="history"></div>
  </details>

</div>

<script>
// ---------------------- DATA ----------------------
const DATA = {
  Kanto: {
    routes:[
      "Route 1 (Pichu-Lure / Pikachu-VeryRare)","Route 3 (Charmander-Lure)","Route 4 (Igglybuff-Lure)","Route 5 (Ivysaur-Lure / Mankey)","Route 6 (Magnemite / Drowzee-Night)","Route 7 (Vulpix-Morning / Hourdour-Night / Growlithe-Day)","Route 8 (Growlithe-Morn+Day / Vulpix-Morn+Night )","Route 10 (Magnemite / Voltorb)",
      "Route 11 (Drowzee)","Route 12 (Slowpoke / Venonat/ Krabby-Rare)","Route 13 (Bellsprout / Oddish / Farfetche'd-Rare)","Route 14 (Nidorina)","Route 15 (Nidorino)","Route 16 (Grimer / Snorlax-Lure)","Route 19 (Lapras-Lure)","Route 20 (Lapras-Lure)",
      "Route 21 (Mr.Mime-Rare / Mime Jr-Lure)","Route 23 (Arbok / Primeape / Exeggutor-Lure)","Route 24 (Squirtle-Lure / Starmie-Lure)"
    ],
    named: [
      "Viridian Forest (Bulbasaur-Lure)","Mt. Moon (Paras / Clefable-Lure)","Diglett's Cave (Diglett)","Rock Tunnel (Charmeleon-Lure)","Power Plant (Pikachu)","Seafoam Islands (Wartortle-Lure)","Cerulean Cave (Kadabra)",
      "Pokémon Tower (Ghastly)","Safari Zone (Scyther / Blissey)","Victory Road (Sandslash / Cubone / Hitmons-Lure)",
      // Sevii Islands
      "Kindle Road (Meowth / Ponyta)","Mt. Ember (Magcargo / Slugma)","Treasure Beach (Tangela)","Cape Brink (Golduck / Slowbro)","Bond Bridge (Gloom)","Berry Forest (Hypno)",
      "Pattern Bush (Pinsir-Lure)","Outcast Island (Dragonite-Lure)","Water Labyrinth (Corsola-Lure)","Ruin Valley (Jolteon-Lure)","Canyon Entrance (Phanphy)",
      "Sevault Canyon (Skarmory-Rare)","Memorial Pillar (Hoppip)","Icefall Cave (Piloswine-Horde)","Lost Cave (Murkrow-Night / Misdreavus-Night / Haunter)"
    ]
  },
  Johto: {
    routes:  [
      "Route 29 (Cleffa-Lure)","Route 31 (Chikorita-Lure)","Route 32 (Totodile-Lure)","Route 33 (Cyndaquil-Lure)","Route 34 (Togepi-Lure / Starmie-Lure)","Route 36 (Umbreon-Lure / Growlithe-Day / Vulpix-Night)","Route 37 (Scyther-Lure)",
      "Route 40 (Shuckle-Rocks)","Route 42 (Mankey / Mareep)","Route 43 (Flaaffy / Girafarig)","Route 44 (Lickitung / Mr.Mime-Lure)","Route 45 (Gligar / Graveler / Quilava-Lure)","Route 47 (Chansey-Lure / Ditto-VCommon)","Route 48 (Bayleef-Lure)"
    ],
    named: [
      "Dark Cave (Wobbuffet)","Union Cave (Tyrogue-Lure)","Slowpoke Well (What do you think is here lmao)","Ilex Forest (Bonsly-Lure)","Ruins of Alph (Espeon-Lure)",
      "National Park (Pinsir-Lure / Sunkern-Day / Spinarak-Night / Ledyba-Morning)","Mt. Mortar (Snorlax-Lure)","Burned Tower (Koffing-100%)","Ice Path (Jynx)",
      "Mt. Silver (Poliwhirl / Donphan / Dodrio)","Mt. Silver Cave (Larvitar / Ursaring / Quagsire)","Safari Zone (Good luck Soldier :prayge:)"
    ]
  },
  Hoenn: {
    routes: [
      "Route 102 (Marill)","Route 104 (Mudkip-Lure)","Route 108 (Pelipper / Wingull)","Route 110 (Electrike)",
      "Route 111 (Trapinch / Sandshrew / Cacnea)","Route 112 (Numel / Torchic-Lure)","Route 113 (Spinda)","Route 114 (Seedot / Zangoose / Lotad / Seviper / Combusken-Lure)","Route 116 (Skitty-Rare / Delcatty-Lure)","Route 117 (Roselia / Illumise)","Route 119 (Feebas)","Route 120 (Absol-Rare / Marshtomp-Lure)",
      "Route 123 (Vigoroth-Lure)",
      
    ],
    named: [
      "Petalburg Woods (Shroomish-Uncommon / Slakoth-Rare / Treecko-Lure)","Granite Cave (Mawile / Sableye / Makuhita / Aron)","Fiery Path (Torkoal / Numel)","Jagged Pass (Sudowoodo-lure / Spoink)","Meteor Falls (Beldum-Lure / Bagon)",
      "Safari Zone (glgl [Master Ball])","New Mauville (Voltorb / Magnemite)","Mt. Pyre (Vulpix / Meditite)","Mt. Pyre (Duskull / Shuppet)",
      "Shoal Cave (Sealo)","UnderWater (Clamperl / Lanturn)","Sky Pillar (Altaria / Banette / Claydol / Mawile / Sableye)","Victory Road (Hariyama / Medicham)",
      ,"Desert Underpass (Ditto-Common)"
    ]
  },
  Sinnoh: {
    routes: [
      "Route 201 (Mime Jr.-Lure)","Route 203 (Eevee-Lure)","Route 204","Route 205","Route 206","Route 207","Route 208","Route 209","Route 210 (Swablu / Breloom-Lure / Scyther-Rare / Mr. Mime-Rare / Sudowoodo-Rare)",
      "Route 211","Route 212","Route 213","Route 214","Route 215","Route 216","Route 217","Route 218","Route 219","Route 220",
      "Route 221","Route 222","Route 223","Route 224","Route 225","Route 226","Route 227","Route 228","Route 229","Route 230"
    ],
    named: [
      "Ravaged Path","Oreburgh Gate","Oreburgh Mine","Eterna Forest","Old Chateau","Mt. Coronet (Various)",
      "Wayward Cave","Fuego Ironworks","Iron Island","Great Marsh","Trophy Garden",
      "Solaceon Ruins","Sendoff Spring","Turnback Cave","Spring Path","Lake Verity","Lake Valor",
      "Lake Acuity","Snowpoint Temple Exterior","Victory Road"
    ]
  },
  Unova: {
    routes: [
      "Route 1","Route 2","Route 3","Route 4","Route 5","Route 6","Route 7","Route 8","Route 9","Route 10",
      "Route 11","Route 12","Route 13","Route 14","Route 15","Route 16","Route 17","Route 18","Route 19","Route 20",
      "Route 21","Route 22","Route 23"],
    named: [
      "Dreamyard (Munna-Common / Liepard)","Pinwheel Forest (Snivy / Monkies)","Mistralton Cave (Boldore / Woobat)","Chargestone Cave (Joltik / Tynamo / Feroseed)",
      "Twist Mountain (Cryogonal / Cubchoo)","Dragonspiral Tower (Drudiggon / Golett)","Giant Chasm (Metagross-Lure / Absol-Lure)","Relic Castle (Krokorok / Cofagrigus / Larvesta)","Desert Resort (Darumaka / Sandile/ Sigilyph / Maractus)",
      "Lostlorn Forest (Cottonee / Petlil / Venipede / Zorua)","Moor of Icirrus (Stunfisk / Palpitoad)","Abundant Shrine (Bronzong / Stantler / Vulpix)","Village Bridge (Rufflet / Vullaby)","Driftveil City (Frillish)",
      "Celestial Tower (Litwick / Elgyem)","Victory Road (Deino / Durant /Mienfoo / Heatmor)"
    ]
  }
};

// ---------------------- UTIL ----------------------
function range(a,b){ return Array.from({length:b-a+1},(_,i)=>a+i); }
function pick(arr){ return arr[Math.floor(Math.random()*arr.length)] }
function buildPool(activeRegions, opts){
  let pool = [];
  for(const r of activeRegions){
    const sect = DATA[r];
    if(!sect) continue;
    if(opts.includeRoutes) pool = pool.concat(sect.routes.map(n=>`${n} - ${r}`));
    if(opts.includeNamed)  pool = pool.concat(sect.named.map(n=>`${n} - ${r}`));
  }
  return pool;
}

// ---------------------- UI ----------------------
const regionBox = document.getElementById("regions");
const resultEl   = document.getElementById("result");
const historyEl  = document.getElementById("history");
const histCount  = document.getElementById("histCount");
const routesOn   = document.getElementById("routesOn");
const namedOn    = document.getElementById("namedOn");
const countEl    = document.getElementById("poolCount");

let activeRegions = new Set(Object.keys(DATA));
let totalHistory = 0;

renderRegionChips();
updateCount();
updateHistCount();

routesOn.addEventListener("change", updateCount);
namedOn.addEventListener("change", updateCount);
document.getElementById("roll").onclick = ()=> roll(1);
document.getElementById("roll5").onclick = ()=> roll(5);
document.getElementById("copy").onclick = copyLast;

function renderRegionChips(){
  regionBox.innerHTML = "";
  Object.keys(DATA).forEach(r=>{
    const chip = document.createElement("div");
    chip.className = "chip";
    chip.dataset.active = "true";
    chip.textContent = `✓ ${r}`;
    chip.onclick = ()=>{
      if(activeRegions.has(r)){ activeRegions.delete(r); chip.dataset.active="false"; chip.textContent=`○ ${r}`; }
      else { activeRegions.add(r); chip.dataset.active="true"; chip.textContent=`✓ ${r}`; }
      updateCount();
    };
    regionBox.appendChild(chip);
  });
}

let lastText = "";
function roll(n){
  const opts = {
    includeRoutes: routesOn.checked,
    includeNamed: namedOn.checked
  };
  const pool = buildPool([...activeRegions], opts);
  if(pool.length===0){ resultEl.textContent="(No locations in pool - enable a region or toggle routes/named)"; return; }

  const picks = [];
  for(let i=0;i<n;i++){ picks.push(pick(pool)); }
  lastText = picks.join("\n");
  resultEl.textContent = picks.join("  |  ");
  for(const p of picks.slice().reverse()){
    const row = document.createElement("div"); 
    row.textContent = "• " + p; 
    historyEl.prepend(row);
    totalHistory++;
  }
  updateHistCount();
  updateCount(pool.length);
}

async function copyLast(){
  try {
    await navigator.clipboard.writeText(lastText || "");
    const btn = document.getElementById("copy"); const old = btn.textContent;
    btn.textContent = "Copied!"; setTimeout(()=>btn.textContent=old, 900);
  } catch { alert("Copy failed"); }
}

function updateHistCount(){
  histCount.textContent = String(totalHistory);
}

function updateCount(precomputed){
  const opts = {
    includeRoutes: routesOn.checked,
    includeNamed: namedOn.checked
  };
  const poolLen = precomputed ?? buildPool([...activeRegions], opts).length;
  countEl.textContent = `Pool: ${poolLen} spots`;
}
</script>
</body>
</html>
